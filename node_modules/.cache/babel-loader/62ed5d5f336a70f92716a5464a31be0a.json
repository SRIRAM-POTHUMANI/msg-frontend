{"ast":null,"code":"import _regeneratorRuntime from\"E:/msg/msg-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/msg/msg-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/msg/msg-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import\"./Login.css\";import{TextField,Button}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import Link1 from\"@material-ui/core/Link\";import axios from\"./axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{\"& .MuiTextField-root\":{margin:theme.spacing(1),width:\"25ch\"}}};});function Login(){var classes=useStyles();//login\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setemail=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setpassword=_useState4[1];var loginuser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"/users/login\",{email:email,password:password});case 3:response=_context.sent;if(response.data){localStorage.setItem(\"token\",response.data);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.warn(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function loginuser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container login_container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign-in\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(TextField,{style:{minWidth:\"60%\"},required:true,id:\"standard-required\",label:\"E-mail\",defaultValue:email,onChange:function onChange(event){return setemail(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(TextField,{style:{minWidth:\"60%\"},required:true,id:\"standard-password-input\",label:\"Password\",type:\"password\",autoComplete:\"current-password\",onChange:function onChange(event){return setpassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"row loginButton loginBut\",children:/*#__PURE__*/_jsx(Link,{to:\"/chat\",children:/*#__PURE__*/_jsx(Button,{className:\"loginBut\",variant:\"outlined\",onClick:loginuser,children:\"Login\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Link1,{component:\"button\",variant:\"body2\",href:\"/forgotpw\",children:\"Forgot Password\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row regButton\",children:/*#__PURE__*/_jsx(Link,{to:\"/reg\",children:/*#__PURE__*/_jsx(Button,{variant:\"outlined\",children:\"Register\"})})})]});}export default Login;","map":{"version":3,"sources":["E:/msg/msg-frontend/src/Login.js"],"names":["React","useState","Link","TextField","Button","makeStyles","Link1","axios","useStyles","theme","root","margin","spacing","width","Login","classes","email","setemail","password","setpassword","loginuser","post","response","data","localStorage","setItem","console","warn","minWidth","event","target","value"],"mappings":"2ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,aAAP,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,mBAAlC,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,wBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAGH,UAAU,CAAC,SAACI,KAAD,QAAY,CACvCC,IAAI,CAAE,CACJ,uBAAwB,CACtBC,MAAM,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADc,CAEtBC,KAAK,CAAE,MAFe,CADpB,CADiC,CAAZ,EAAD,CAA5B,CAQA,QAASC,CAAAA,KAAT,EAAiB,CACf,GAAMC,CAAAA,OAAO,CAAGP,SAAS,EAAzB,CACA;AACA,cAA0BP,QAAQ,EAAlC,wCAAOe,KAAP,eAAcC,QAAd,eACA,eAAgChB,QAAQ,EAAxC,yCAAOiB,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,SAAS,0FAAG,sLAEOb,CAAAA,KAAK,CAACc,IAAN,CAAW,cAAX,CAA2B,CAC9CL,KAAK,CAAEA,KADuC,CAE9CE,QAAQ,CAAEA,QAFoC,CAA3B,CAFP,QAEVI,QAFU,eAOd,GAAIA,QAAQ,CAACC,IAAb,CAAmB,CACjBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,QAAQ,CAACC,IAAvC,EACD,CATa,+EAWdG,OAAO,CAACC,IAAR,cAXc,oEAAH,kBAATP,CAAAA,SAAS,0CAAf,CAeA,mBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,+BADF,cAEE,aAFF,cAGE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,SAAD,EACE,KAAK,CAAE,CAAEQ,QAAQ,CAAE,KAAZ,CADT,CAEE,QAAQ,KAFV,CAGE,EAAE,CAAC,mBAHL,CAIE,KAAK,CAAC,QAJR,CAKE,YAAY,CAAEZ,KALhB,CAME,QAAQ,CAAE,kBAACa,KAAD,QAAWZ,CAAAA,QAAQ,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAnB,EANZ,EADF,EAHF,cAaE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,SAAD,EACE,KAAK,CAAE,CAAEH,QAAQ,CAAE,KAAZ,CADT,CAEE,QAAQ,KAFV,CAGE,EAAE,CAAC,yBAHL,CAIE,KAAK,CAAC,UAJR,CAKE,IAAI,CAAC,UALP,CAME,YAAY,CAAC,kBANf,CAOE,QAAQ,CAAE,kBAACC,KAAD,QAAWV,CAAAA,WAAW,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAtB,EAPZ,EADF,EAbF,cAwBE,YAAK,SAAS,CAAC,0BAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,uBACE,KAAC,MAAD,EAAQ,SAAS,CAAC,UAAlB,CAA6B,OAAO,CAAC,UAArC,CAAgD,OAAO,CAAEX,SAAzD,mBADF,EADF,EAxBF,cA+BE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,KAAD,EAAO,SAAS,CAAC,QAAjB,CAA0B,OAAO,CAAC,OAAlC,CAA0C,IAAI,CAAC,WAA/C,6BADF,EA/BF,cAoCE,aApCF,cAqCE,YAAK,SAAS,CAAC,eAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,MAAT,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,sBADF,EADF,EArCF,GADF,CA6CD,CAED,cAAeN,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport { TextField, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Link1 from \"@material-ui/core/Link\";\r\nimport axios from \"./axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n      width: \"25ch\",\r\n    },\r\n  },\r\n}));\r\nfunction Login() {\r\n  const classes = useStyles();\r\n  //login\r\n  const [email, setemail] = useState();\r\n  const [password, setpassword] = useState();\r\n\r\n  const loginuser = async () => {\r\n    try {\r\n      var response = await axios.post(\"/users/login\", {\r\n        email: email,\r\n        password: password,\r\n      });\r\n\r\n      if (response.data) {\r\n        localStorage.setItem(\"token\", response.data);\r\n      }\r\n    } catch (err) {\r\n      console.warn(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container login_container\">\r\n      <h1>Sign-in</h1>\r\n      <hr />\r\n      <div className=\"row\">\r\n        <TextField\r\n          style={{ minWidth: \"60%\" }}\r\n          required\r\n          id=\"standard-required\"\r\n          label=\"E-mail\"\r\n          defaultValue={email}\r\n          onChange={(event) => setemail(event.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        <TextField\r\n          style={{ minWidth: \"60%\" }}\r\n          required\r\n          id=\"standard-password-input\"\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          autoComplete=\"current-password\"\r\n          onChange={(event) => setpassword(event.target.value)}\r\n        />\r\n      </div>\r\n      <div className=\"row loginButton loginBut\">\r\n        <Link to=\"/chat\">\r\n          <Button className=\"loginBut\" variant=\"outlined\" onClick={loginuser}>\r\n            Login\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n      <div className=\"row\">\r\n        <Link1 component=\"button\" variant=\"body2\" href=\"/forgotpw\">\r\n          Forgot Password\r\n        </Link1>\r\n      </div>\r\n      <hr />\r\n      <div className=\"row regButton\">\r\n        <Link to=\"/reg\">\r\n          <Button variant=\"outlined\">Register</Button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}